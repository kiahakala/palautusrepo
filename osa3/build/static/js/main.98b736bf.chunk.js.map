{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","services/persons.js","App.js","index.js"],"names":["Filter","filterName","handleFilter","className","value","onChange","PersonForm","addPerson","newName","handleNameAddition","newNumber","handleNumberAddition","onSubmit","type","Person","person","deletePerson","key","name","number","onClick","baseUrl","axios","get","then","response","data","id","newObject","post","put","delete","App","useState","persons","setPersons","setPerson","setInfo","setNewName","setNewNumber","setFilterName","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","info","ErrorNotification","message","SuccessNotification","event","target","preventDefault","nameObject","nameExists","find","window","confirm","returnedPerson","map","setTimeout","concat","length","filter","toLowerCase","includes","p","catch","error","deletionOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98b736bf.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterName, handleFilter}) => {\n  return (\n      <div className='filter'>Filter Names:\n      <input className='input'\n          value={filterName}\n          onChange={handleFilter}\n        />\n      </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameAddition, newNumber, handleNumberAddition }) => {\n  return (\n    <div>\n      <form className='person_form'onSubmit={addPerson}>\n      <h2>Add New Number</h2>\n        <div>Name:\n        <input className='input'\n          value={newName}\n          onChange={handleNameAddition}\n        />\n        </div>\n        <br/>\n        <div>Number:\n        <input className='input'\n          value={newNumber}\n          onChange={handleNumberAddition}\n        />\n        </div>\n        <br/>\n        <button className='button' type='submit'>Add</button>\n      </form>  \n      </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  const label = 'Delete'\n\n  return (\n    <p className='person'>\n      {person.key}\n      {person.name} <br />\n      {person.number}\n    <button className='button_del' onClick={deletePerson}>{label}</button>\n    </p>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\nconst baseUrl2 = '/api'\nconst baseUrl3 = '/info'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  // const getAll = () => {\n  //   const request = axios.get(baseUrl)\n  //   const nonExisting = {\n  //     id: 10000,\n  //     name: 'This name is not saved to server',\n  //     number: '050-2345678',\n  //     important: true,\n  //   }\n  //   return request.then(response => response.data.concat(nonExisting))\n  // }\n\n  const getPerson = (id) => {\n    const request = axios.get(`${baseUrl2}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const getInfo = () => {\n    const request = axios.get(baseUrl3)\n    return request.then(response => response.data)\n  }\n\n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deleteContact = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n  \n  export default { getAll, getPerson, getInfo, create, update, deleteContact }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Person from './Person'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ person, setPerson] = useState([]) \r\n  const [ info, setInfo] = useState('') \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterName, setFilterName ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState('')\r\n  const [ successMessage, setSuccessMessage ] = useState('')\r\n\r\n  // then is an event listener & response function is an event handler\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n  // Jos toisena parametrina on tyhjä taulukko [], suoritetaan efekti ainoastaan komponentin ensimmäisen renderöinnin jälkeen.\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getPerson()\r\n    .then(person => {\r\n      setPerson(person)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getInfo()\r\n    .then(info => {\r\n      setInfo(info)\r\n    })\r\n  }, [])\r\n\r\n  const handleNameAddition = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberAddition = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setFilterName(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const nameExists = persons.find(person => person.name === nameObject.name)\r\n    if (!newName) {\r\n      window.confirm('Name missing!')\r\n      return\r\n    }\r\n    if (!newNumber) {\r\n      window.confirm('Number missing!')\r\n      return\r\n    }\r\n    if (nameExists) {\r\n      if (window.confirm(`${newName} already exists. Replace the number with a new one?`)) {\r\n        personService\r\n          .update(nameExists.id, nameObject).then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== nameExists.id ? person : returnedPerson))\r\n            setSuccessMessage(\r\n              `Number of ${nameExists.name} was updated`\r\n            )\r\n          })\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 3000)\r\n      }\r\n    } else {\r\n    personService\r\n    .create(nameObject)\r\n    .then(returnedPerson => {\r\n      setPersons(persons.concat(returnedPerson))\r\n    }\r\n    )\r\n    \r\n    setNewName('')\r\n    setNewNumber('')\r\n    setSuccessMessage(\r\n      `${newName} was added`\r\n    )\r\n    setTimeout(() => {\r\n      setSuccessMessage(null)\r\n    }, 3000)\r\n    }\r\n  }\r\n\r\n  const deletionOf = (id) => {\r\n    const url = `/api/persons/${id}`\r\n    const person = persons.find(p => p.id === id)\r\n  \r\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\r\n    personService\r\n    .deleteContact(id)\r\n    .then(\r\n      setPersons(persons.filter(p => p.id !== id))\r\n    )\r\n    .catch(error => {\r\n      setErrorMessage(\r\n        `${person.name} was already removed from server`\r\n      )\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    })\r\n    setSuccessMessage(\r\n      `Number of ${person.name} was deleted`\r\n    )\r\n    setTimeout(() => {\r\n      setSuccessMessage(null)\r\n    }, 3000)\r\n    }\r\n  }\r\n\r\n  const ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className='error'>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const SuccessNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className='success'>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nreturn (\r\n  <div>\r\n    <h1>Phonebook</h1>\r\n    {!errorMessage ? null : <ErrorNotification message={errorMessage} />}\r\n    {!successMessage ? null : <SuccessNotification message={successMessage} />}\r\n    <Filter filterName={filterName} handleFilter={handleFilter} />\r\n    <PersonForm addPerson={addPerson} newName={newName} handleNameAddition={handleNameAddition} newNumber={newNumber} handleNumberAddition={handleNumberAddition} />\r\n    <div> \r\n      <h2>Numbers</h2>\r\n       <span>{filterName.length > 1 ? persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase())).map(person => \r\n            <Person key={person.id} person={person} />) : persons.map(person => \r\n              <Person key={person.id} person={person} deletePerson={() => deletionOf(person.id)}\r\n                />)\r\n              }\r\n      </span> \r\n    </div>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
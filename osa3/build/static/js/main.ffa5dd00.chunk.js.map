{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","services/persons.js","App.js","index.js"],"names":["Filter","filterName","handleFilter","className","value","onChange","PersonForm","addPerson","newName","handleNameAddition","newNumber","handleNumberAddition","onSubmit","type","Person","person","deletePerson","key","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setInfo","setNewName","setNewNumber","setFilterName","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","info","ErrorNotification","message","SuccessNotification","event","target","preventDefault","nameObject","nameExists","find","window","confirm","returnedPerson","map","setTimeout","concat","length","filter","toLowerCase","includes","p","catch","error","deletionOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ffa5dd00.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterName, handleFilter}) => {\n  return (\n      <div className='filter'>Filter Names:\n      <input className='input'\n          value={filterName}\n          onChange={handleFilter}\n        />\n      </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameAddition, newNumber, handleNumberAddition }) => {\n  return (\n    <div>\n      <form className='person_form'onSubmit={addPerson}>\n      <h2>Add New Number</h2>\n        <div>Name:\n        <input className='input'\n          value={newName}\n          onChange={handleNameAddition}\n        />\n        </div>\n        <br/>\n        <div>Number:\n        <input className='input'\n          value={newNumber}\n          onChange={handleNumberAddition}\n        />\n        </div>\n        <br/>\n        <button className='button' type='submit'>Add</button>\n      </form>  \n      </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  const label = 'Delete'\n\n  return (\n    <p className='person'>\n      {person.key}\n      {person.name} <br />\n      {person.number}\n    <button className='button_del' onClick={deletePerson}>{label}</button>\n    </p>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\nconst baseUrl3 = '/info'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  // const getAll = () => {\n  //   const request = axios.get(baseUrl)\n  //   const nonExisting = {\n  //     id: 10000,\n  //     name: 'This name is not saved to server',\n  //     number: '050-2345678',\n  //     important: true,\n  //   }\n  //   return request.then(response => response.data.concat(nonExisting))\n  // }\n\n  const getInfo = () => {\n    const request = axios.get(baseUrl3)\n    return request.then(response => response.data)\n  }\n\n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deleteContact = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n  \n  export default { getAll, getInfo, create, update, deleteContact }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Person from './Person'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ info, setInfo] = useState('') \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterName, setFilterName ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState('')\r\n  const [ successMessage, setSuccessMessage ] = useState('')\r\n\r\n  // then is an event listener & response function is an event handler\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n  // Jos toisena parametrina on tyhjä taulukko [], suoritetaan efekti ainoastaan komponentin ensimmäisen renderöinnin jälkeen.\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getInfo()\r\n    .then(info => {\r\n      setInfo(info)\r\n    })\r\n  }, [])\r\n\r\n  const handleNameAddition = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberAddition = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setFilterName(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const nameExists = persons.find(person => person.name === nameObject.name)\r\n    if (!newName) {\r\n      window.confirm('Name missing!')\r\n      return\r\n    }\r\n    if (!newNumber) {\r\n      window.confirm('Number missing!')\r\n      return\r\n    }\r\n    if (nameExists) {\r\n      if (window.confirm(`${newName} already exists. Replace the number with a new one?`)) {\r\n        personService\r\n          .update(nameExists.id, nameObject).then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== nameExists.id ? person : returnedPerson))\r\n            setSuccessMessage(\r\n              `Number of ${nameExists.name} was updated`\r\n            )\r\n          })\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 3000)\r\n      }\r\n    } else {\r\n    personService\r\n    .create(nameObject)\r\n    .then(returnedPerson => {\r\n      setPersons(persons.concat(returnedPerson))\r\n    }\r\n    )\r\n    \r\n    setNewName('')\r\n    setNewNumber('')\r\n    setSuccessMessage(\r\n      `${newName} was added`\r\n    )\r\n    setTimeout(() => {\r\n      setSuccessMessage(null)\r\n    }, 3000)\r\n    }\r\n  }\r\n\r\n  const deletionOf = (id) => {\r\n    const url = `/api/persons/${id}`\r\n    const person = persons.find(p => p.id === id)\r\n  \r\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\r\n    personService\r\n    .deleteContact(id)\r\n    .then(\r\n      setPersons(persons.filter(p => p.id !== id))\r\n    )\r\n    .catch(error => {\r\n      setErrorMessage(\r\n        `${person.name} was already removed from server`\r\n      )\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    })\r\n    setSuccessMessage(\r\n      `Number of ${person.name} was deleted`\r\n    )\r\n    setTimeout(() => {\r\n      setSuccessMessage(null)\r\n    }, 3000)\r\n    }\r\n  }\r\n\r\n  const ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className='error'>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const SuccessNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className='success'>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nreturn (\r\n  <div>\r\n    <h1>Phonebook</h1>\r\n    {!errorMessage ? null : <ErrorNotification message={errorMessage} />}\r\n    {!successMessage ? null : <SuccessNotification message={successMessage} />}\r\n    <Filter filterName={filterName} handleFilter={handleFilter} />\r\n    <PersonForm addPerson={addPerson} newName={newName} handleNameAddition={handleNameAddition} newNumber={newNumber} handleNumberAddition={handleNumberAddition} />\r\n    <div> \r\n      <h2>Numbers</h2>\r\n       <span>{filterName.length > 1 ? persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase())).map(person => \r\n            <Person key={person.id} person={person} />) : persons.map(person => \r\n              <Person key={person.id} person={person} deletePerson={() => deletionOf(person.id)}\r\n                />)\r\n              }\r\n      </span> \r\n    </div>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}